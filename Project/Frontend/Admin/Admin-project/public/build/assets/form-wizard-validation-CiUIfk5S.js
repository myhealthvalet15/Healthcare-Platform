(function(){$(".select2"),$(".selectpicker");const r=document.querySelector("#wizard-validation");if(r){const e=r.querySelector("#wizard-validation-form"),t={step1:e.querySelector("#account-details-validation"),step2:e.querySelector("#personal-info-validation"),step3:e.querySelector("#social-links-validation"),step4:e.querySelector("#components-details-validation"),step5:e.querySelector("#adminuser-details-validation")},n=[].slice.call(e.querySelectorAll(".btn-next")),l=[].slice.call(e.querySelectorAll(".btn-prev")),s=new Stepper(r,{linear:!0}),o={trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5,autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton},d=FormValidation.formValidation(t.step1,{fields:{corporate_name:{validators:{notEmpty:{message:"The name is required"},stringLength:{min:6,max:30,message:"The name must be between 6 and 30 characters"},regexp:{regexp:/^[a-zA-Z0-9 ]+$/,message:"Only letters, numbers, and spaces are allowed"}}},display_name:{validators:{notEmpty:{message:"The display name is required"},stringLength:{min:6,max:30,message:"The name must be between 6 and 30 characters"},regexp:{regexp:/^[a-zA-Z0-9 ]+$/,message:"Only letters, numbers, and spaces are allowed"}}},valid_from:{validators:{notEmpty:{message:"The start date is required"},date:{format:"YYYY-MM-DD",message:"The start date is not valid"}}},valid_upto:{validators:{notEmpty:{message:"The end date is required"},date:{format:"YYYY-MM-DD",message:"The end date is not valid"}}}},plugins:o}).on("core.form.valid",()=>s.next()),m=FormValidation.formValidation(t.step2,{fields:{formValidationCountry:{validators:{notEmpty:{message:"Pincode is required"},regexp:{regexp:/^[1-9][0-9]{5}$/,message:"Pincode must be a valid 6-digit number"}}}},plugins:o}).on("core.form.valid",()=>s.next()),c=FormValidation.formValidation(t.step3,{fields:{"employee_type_name[]":{validators:{callback:{message:"Please enter at least one Employee Type Name",callback:function(a){const i=document.querySelectorAll('input[name="employee_type_name[]"]');return Array.from(i).some(g=>g.value.trim()!=="")}}}}},plugins:o}).on("core.form.valid",()=>s.next()),u=FormValidation.formValidation(t.step4,{fields:{"module_id[]":{validators:{callback:{message:"Please select at least one module or submodule.",callback:function(){const a=document.querySelectorAll('input[name="module_id[]"]:checked'),i=document.querySelectorAll('input[name^="sub_module_id"]:checked');return a.length>0||i.length>0}}}}},plugins:{...o,bootstrap5:new FormValidation.plugins.Bootstrap5({rowSelector:".module-container"})}}).on("core.form.valid",()=>s.next()),p=FormValidation.formValidation(t.step5,{fields:{first_name:{validators:{notEmpty:{message:"First Name is required."}}},email:{validators:{notEmpty:{message:"Email is required."},emailAddress:{message:"Please enter a valid email address."}}},password:{validators:{notEmpty:{message:"Password is required."},stringLength:{min:8,message:"Password must be at least 8 characters long."}}},aadhar:{validators:{notEmpty:{message:"Aadhar is required."},stringLength:{min:12,max:12,message:"Aadhar must be 12 digits."},numeric:{message:"Only numeric values are allowed."}}}},plugins:o}).on("core.form.valid",()=>{alert("All steps are valid. You can now submit the form!"),e.submit()});n.forEach((a,i)=>{a.addEventListener("click",()=>{switch(i){case 0:d.validate();break;case 1:m.validate();break;case 2:c.validate();break;case 3:u.validate();break;case 4:p.validate();break}})}),l.forEach(a=>{a.addEventListener("click",()=>s.previous())})}})();
